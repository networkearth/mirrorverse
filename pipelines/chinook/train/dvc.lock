schema: '2.0'
stages:
  states:
    cmd: chinook_states -d ../data/tag_tracks.csv -c ../data/context.csv -o .  -r
      4 -mae 0.79 -mad 150 -ts 0.7
    deps:
    - path: ../../../mirrorverse/chinook/states.py
      hash: md5
      md5: 80f0de851828e4691b3613d7555b646b
      size: 10204
    - path: ../../../mirrorverse/chinook/utils.py
      hash: md5
      md5: 98b3c577b04810412ae1287fefaff2a5
      size: 1906
    - path: ../data/context.csv
      hash: md5
      md5: 02489ea16c9d726e85f406b34c4a9ddb
      size: 2042
    - path: ../data/tag_tracks.csv
      hash: md5
      md5: a2c11e27477300708f3feaf1be5a5543
      size: 325093
    params:
      params.yaml:
        context: ../data/context.csv
        data: ../data/tag_tracks.csv
        max_allowable_error: 0.79
        min_allowable_distance: 150
        resolution: 4
        training_size: 0.7
    outs:
    - path: testing_states.csv
      hash: md5
      md5: 4e67c7c5680c74fdd2b57e5b558f357a
      size: 164284
    - path: training_states.csv
      hash: md5
      md5: b5c970f273e1950bb7ca05cb47c00d6b
      size: 326582
  train_drift_movement:
    cmd: chinook_train -n DriftMovementLeaf -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: ff9514657ef9fc8b7d5401f1fbcdf4b6
      size: 2184
    - path: ../../../mirrorverse/chinook/tree/drift_movement.py
      hash: md5
      md5: 181d7c346dd7241850415cbeb477ebef
      size: 6043
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: c2478124c0aec761f032feabc10efb9e
      size: 9457
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: 4e67c7c5680c74fdd2b57e5b558f357a
      size: 164284
    - path: training_states.csv
      hash: md5
      md5: b5c970f273e1950bb7ca05cb47c00d6b
      size: 326582
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: DriftMovementLeaf.csv
      hash: md5
      md5: 5cc0a524f29343ff1d3504ab6ad870f8
      size: 7717200
    - path: DriftMovementLeaf.pkl
      hash: md5
      md5: 0a8886158631f4fd6c1d66961932e98a
      size: 740481
  train_run_movement:
    cmd: chinook_train -n RunMovementLeaf -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: ff9514657ef9fc8b7d5401f1fbcdf4b6
      size: 2184
    - path: ../../../mirrorverse/chinook/tree/run_movement.py
      hash: md5
      md5: 43012967e083dddcc267b214dc16fd4e
      size: 6654
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: c2478124c0aec761f032feabc10efb9e
      size: 9457
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: 4e67c7c5680c74fdd2b57e5b558f357a
      size: 164284
    - path: training_states.csv
      hash: md5
      md5: b5c970f273e1950bb7ca05cb47c00d6b
      size: 326582
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunMovementLeaf.csv
      hash: md5
      md5: d5ad25aa5293055628dbe86c850da4f3
      size: 2177403
    - path: RunMovementLeaf.pkl
      hash: md5
      md5: 79ac5cc0250e41170ce368e7ae96534a
      size: 102454
  train_run_heading:
    cmd: chinook_train -n RunHeadingBranch -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: ff9514657ef9fc8b7d5401f1fbcdf4b6
      size: 2184
    - path: ../../../mirrorverse/chinook/tree/run_heading.py
      hash: md5
      md5: 35827223559577e6edf3fd343173bde3
      size: 8088
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: c2478124c0aec761f032feabc10efb9e
      size: 9457
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: 4e67c7c5680c74fdd2b57e5b558f357a
      size: 164284
    - path: training_states.csv
      hash: md5
      md5: b5c970f273e1950bb7ca05cb47c00d6b
      size: 326582
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunHeadingBranch.csv
      hash: md5
      md5: bf8f3a309881dacb2f6f1cd8cfbc0e68
      size: 8337214
    - path: RunHeadingBranch.pkl
      hash: md5
      md5: c3709c89604213e51e0ba64e9dab78b5
      size: 2458764
  train_run_or_drift:
    cmd: chinook_train -n RunOrDriftBranch -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: ff9514657ef9fc8b7d5401f1fbcdf4b6
      size: 2184
    - path: ../../../mirrorverse/chinook/tree/run_or_drift.py
      hash: md5
      md5: 5192ac3d9e0e344cf5b28a39f578dfa0
      size: 6202
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: c2478124c0aec761f032feabc10efb9e
      size: 9457
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: 4e67c7c5680c74fdd2b57e5b558f357a
      size: 164284
    - path: training_states.csv
      hash: md5
      md5: b5c970f273e1950bb7ca05cb47c00d6b
      size: 326582
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunOrDriftBranch.csv
      hash: md5
      md5: 6e82ae70ac3c3e12a215d99e0ff069cd
      size: 1516513
    - path: RunOrDriftBranch.pkl
      hash: md5
      md5: f852663631d017defbbff5ebad86d250
      size: 203300
  bundle_models:
    cmd: mirrorverse_bundle_models -m .
    deps:
    - path: DriftMovementLeaf.pkl
      hash: md5
      md5: 0a8886158631f4fd6c1d66961932e98a
      size: 740481
    - path: RunHeadingBranch.pkl
      hash: md5
      md5: c3709c89604213e51e0ba64e9dab78b5
      size: 2458764
    - path: RunMovementLeaf.pkl
      hash: md5
      md5: 79ac5cc0250e41170ce368e7ae96534a
      size: 102454
    - path: RunOrDriftBranch.pkl
      hash: md5
      md5: f852663631d017defbbff5ebad86d250
      size: 203300
    - path: RunStayOrGoBranch.pkl
      hash: md5
      md5: 7188783fae69c021980e18189ec292e3
      size: 62332
    outs:
    - path: models.pkl
      hash: md5
      md5: 1ff373d1c4fcb00cad732f922132ae54
      size: 3568363
  data:
    cmd: chinook_db -e ../data/bathymetry.csv -s ../data/surface_temps.csv -t ../data/tag_tracks.csv
      -c ../data/context.csv
    deps:
    - path: ../../../mirrorverse/chinook/db.py
      hash: md5
      md5: 398cc8de46cfa7d0721ec9f0bc6d3a77
      size: 2532
    params:
      params.yaml:
        context: ../data/context.csv
        data: ../data/tag_tracks.csv
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/context.csv
      hash: md5
      md5: 02489ea16c9d726e85f406b34c4a9ddb
      size: 2042
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: ../data/tag_tracks.csv
      hash: md5
      md5: a2c11e27477300708f3feaf1be5a5543
      size: 325093
  train_run_stay_or_go:
    cmd: chinook_train -n RunStayOrGoBranch -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: ff9514657ef9fc8b7d5401f1fbcdf4b6
      size: 2184
    - path: ../../../mirrorverse/chinook/tree/run_stay_or_go.py
      hash: md5
      md5: 3d92d014ce596158dbc01c2a345167b2
      size: 5803
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: c2478124c0aec761f032feabc10efb9e
      size: 9457
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: 4e67c7c5680c74fdd2b57e5b558f357a
      size: 164284
    - path: training_states.csv
      hash: md5
      md5: b5c970f273e1950bb7ca05cb47c00d6b
      size: 326582
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunStayOrGoBranch.csv
      hash: md5
      md5: 04ec16f214d80a33ff7b151d9f93a22d
      size: 506602
    - path: RunStayOrGoBranch.pkl
      hash: md5
      md5: 7188783fae69c021980e18189ec292e3
      size: 62332
  group_run_stay_or_go:
    cmd: mirrorverse_group -n RunStayOrGoBranch.csv -g 10
    deps:
    - path: ../../../mirrorverse/grouper.py
      hash: md5
      md5: f3ee68733d7fc871f2f36ab342f93a32
      size: 9070
    - path: RunStayOrGoBranch.csv
      hash: md5
      md5: 04ec16f214d80a33ff7b151d9f93a22d
      size: 506602
    outs:
    - path: RunStayOrGoBranch_groupings.csv
      hash: md5
      md5: 39041bddad8abd5c49a0b71f31a760de
      size: 1363
    - path: RunStayOrGoBranch_statistics.csv
      hash: md5
      md5: b0c8efcc6063d34ea443aa52b4baacee
      size: 25483
  group_drift_movement:
    cmd: mirrorverse_group -n DriftMovementLeaf.csv -g 10
    deps:
    - path: ../../../mirrorverse/grouper.py
      hash: md5
      md5: f3ee68733d7fc871f2f36ab342f93a32
      size: 9070
    - path: DriftMovementLeaf.csv
      hash: md5
      md5: 5cc0a524f29343ff1d3504ab6ad870f8
      size: 7717200
    outs:
    - path: DriftMovementLeaf_groupings.csv
      hash: md5
      md5: a3c56f0f6a004f4bb5aff2507a5ef19c
      size: 2272
    - path: DriftMovementLeaf_statistics.csv
      hash: md5
      md5: 23b4ef7efe6e7df3b2bbd271d75b6424
      size: 25287
  group_run_heading:
    cmd: mirrorverse_group -n RunHeadingBranch.csv -g 10
    deps:
    - path: ../../../mirrorverse/grouper.py
      hash: md5
      md5: f3ee68733d7fc871f2f36ab342f93a32
      size: 9070
    - path: RunHeadingBranch.csv
      hash: md5
      md5: bf8f3a309881dacb2f6f1cd8cfbc0e68
      size: 8337214
    outs:
    - path: RunHeadingBranch_groupings.csv
      hash: md5
      md5: 2096323a24065d41b9c95a2b937a4135
      size: 1318
    - path: RunHeadingBranch_statistics.csv
      hash: md5
      md5: 6d6dc5177e7c3549ecc13233317c8851
      size: 25224
  group_run_movement:
    cmd: mirrorverse_group -n RunMovementLeaf.csv -g 10
    deps:
    - path: ../../../mirrorverse/grouper.py
      hash: md5
      md5: f3ee68733d7fc871f2f36ab342f93a32
      size: 9070
    - path: RunMovementLeaf.csv
      hash: md5
      md5: d5ad25aa5293055628dbe86c850da4f3
      size: 2177403
    outs:
    - path: RunMovementLeaf_groupings.csv
      hash: md5
      md5: e0a3bffd0ace64e8e58c9d7fab74a798
      size: 1322
    - path: RunMovementLeaf_statistics.csv
      hash: md5
      md5: 879c11367f7585e49868578ee89f0434
      size: 25564
  group_run_or_drift:
    cmd: mirrorverse_group -n RunOrDriftBranch.csv -g 10
    deps:
    - path: ../../../mirrorverse/grouper.py
      hash: md5
      md5: f3ee68733d7fc871f2f36ab342f93a32
      size: 9070
    - path: RunOrDriftBranch.csv
      hash: md5
      md5: 6e82ae70ac3c3e12a215d99e0ff069cd
      size: 1516513
    outs:
    - path: RunOrDriftBranch_groupings.csv
      hash: md5
      md5: a959e0ada04d6eebbd84803fc789bbaf
      size: 2207
    - path: RunOrDriftBranch_statistics.csv
      hash: md5
      md5: 3d9cbc1366f7da1bb67bbe1cf01f1207
      size: 25609
