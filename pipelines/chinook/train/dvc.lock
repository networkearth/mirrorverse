schema: '2.0'
stages:
  states:
    cmd: chinook_states -d ../data/tag_tracks.csv -o .  -r 4 -mae 0.79 -mad 150 -ts
      0.7
    deps:
    - path: ../../../mirrorverse/chinook/states.py
      hash: md5
      md5: 4dd5dd388749c393fcbee2528e63502e
      size: 10214
    - path: ../../../mirrorverse/chinook/utils.py
      hash: md5
      md5: 98b3c577b04810412ae1287fefaff2a5
      size: 1906
    - path: ../data/tag_tracks.csv
      hash: md5
      md5: 4b45f19b5564abe0cad08559580034da
      size: 325173
    params:
      params.yaml:
        data: ../data/tag_tracks.csv
        max_allowable_error: 0.79
        min_allowable_distance: 150
        resolution: 4
        training_size: 0.7
    outs:
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
  train_drift_movement:
    cmd: chinook_train -n DriftMovementLeaf -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/drift_movement.py
      hash: md5
      md5: 4a201cfef1268f513bbb1a0b9d74615f
      size: 4652
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: e1b4286c06bf6c2bfa5cf19fcd00b540
      size: 7006
    - path: ../data/bathymetry.csv
      hash: md5
      md5: cc85b68bea7980f10cb066f2002a5d14
      size: 524084
    - path: ../data/surface_temps.csv
      hash: md5
      md5: 2c3f8b885d1f1cae5fea697fd4941f94
      size: 18299215
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: DriftMovementLeaf.pkl
      hash: md5
      md5: 290762f2f11d21d963074d9c092bedd3
      size: 3238583
  train_run_movement:
    cmd: chinook_train -n RunMovementLeaf -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/run_movement.py
      hash: md5
      md5: 7b3783e30b3b30108050a27eef1c08d7
      size: 5082
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: e1b4286c06bf6c2bfa5cf19fcd00b540
      size: 7006
    - path: ../data/bathymetry.csv
      hash: md5
      md5: cc85b68bea7980f10cb066f2002a5d14
      size: 524084
    - path: ../data/surface_temps.csv
      hash: md5
      md5: 2c3f8b885d1f1cae5fea697fd4941f94
      size: 18299215
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunMovementLeaf.pkl
      hash: md5
      md5: b15f6cd962e78c80e2bdb81e03f3100d
      size: 954027
  train_run_heading:
    cmd: chinook_train -n RunHeadingBranch -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/run_heading.py
      hash: md5
      md5: 375ec97a06f7b522ae44bc9e4b98282c
      size: 5897
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: e1b4286c06bf6c2bfa5cf19fcd00b540
      size: 7006
    - path: ../data/bathymetry.csv
      hash: md5
      md5: cc85b68bea7980f10cb066f2002a5d14
      size: 524084
    - path: ../data/surface_temps.csv
      hash: md5
      md5: 2c3f8b885d1f1cae5fea697fd4941f94
      size: 18299215
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunHeadingBranch.pkl
      hash: md5
      md5: dbcf10a236ec6629dc63ef597d4d7abc
      size: 1039344
  train_run_or_drift:
    cmd: chinook_train -n RunOrDriftBranch -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/run_or_drift.py
      hash: md5
      md5: 3d60ee985e0368177a67ff6794e2294b
      size: 4746
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: e1b4286c06bf6c2bfa5cf19fcd00b540
      size: 7006
    - path: ../data/bathymetry.csv
      hash: md5
      md5: cc85b68bea7980f10cb066f2002a5d14
      size: 524084
    - path: ../data/surface_temps.csv
      hash: md5
      md5: 2c3f8b885d1f1cae5fea697fd4941f94
      size: 18299215
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunOrDriftBranch.pkl
      hash: md5
      md5: 09689b2d59a9fe73d9942e56f92dbebd
      size: 332050
  bundle_models:
    cmd: mirrorverse_bundle_models -m .
    deps:
    - path: DriftMovementLeaf.pkl
      hash: md5
      md5: 290762f2f11d21d963074d9c092bedd3
      size: 3238583
    - path: RunHeadingBranch.pkl
      hash: md5
      md5: dbcf10a236ec6629dc63ef597d4d7abc
      size: 1039344
    - path: RunMovementLeaf.pkl
      hash: md5
      md5: b15f6cd962e78c80e2bdb81e03f3100d
      size: 954027
    - path: RunOrDriftBranch.pkl
      hash: md5
      md5: 09689b2d59a9fe73d9942e56f92dbebd
      size: 332050
    outs:
    - path: models.pkl
      hash: md5
      md5: 7c58ed6aea1bd1ad984ed9dad2ce8c79
      size: 5575853
