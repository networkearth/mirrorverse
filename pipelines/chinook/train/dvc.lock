schema: '2.0'
stages:
  states:
    cmd: chinook_states -d ../data/tag_tracks.csv -o .  -r 4 -mae 0.79 -mad 150 -ts
      0.7
    deps:
    - path: ../../../mirrorverse/chinook/states.py
      hash: md5
      md5: 612a4e938a6a02df9f5d87467fd5420e
      size: 9935
    - path: ../../../mirrorverse/chinook/utils.py
      hash: md5
      md5: 98b3c577b04810412ae1287fefaff2a5
      size: 1906
    - path: ../data/tag_tracks.csv
      hash: md5
      md5: a2c11e27477300708f3feaf1be5a5543
      size: 325093
    params:
      params.yaml:
        data: ../data/tag_tracks.csv
        max_allowable_error: 0.79
        min_allowable_distance: 150
        resolution: 4
        training_size: 0.7
    outs:
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
  train_drift_movement:
    cmd: chinook_train -n DriftMovementLeaf -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/drift_movement.py
      hash: md5
      md5: 783491613922439afdae51e0989bde2f
      size: 4867
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: 067a49007795db73d41e408b873006bb
      size: 7903
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: DriftMovementLeaf.pkl
      hash: md5
      md5: 264215292dbada19465721f65af6ea8a
      size: 491278
  train_run_movement:
    cmd: chinook_train -n RunMovementLeaf -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/run_movement.py
      hash: md5
      md5: efdc43669117e8e7823e1005cba570ff
      size: 5300
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: 067a49007795db73d41e408b873006bb
      size: 7903
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunMovementLeaf.pkl
      hash: md5
      md5: ed78d931b28914a121b7ffa2d10a6d5c
      size: 537381
  train_run_heading:
    cmd: chinook_train -n RunHeadingBranch -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/run_heading.py
      hash: md5
      md5: faba67c2ebacf30686fb53842f2850c8
      size: 6986
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: 067a49007795db73d41e408b873006bb
      size: 7903
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunHeadingBranch.pkl
      hash: md5
      md5: f48ff6d8dc6887d3dcbc62dc411b382a
      size: 1300955
  train_run_or_drift:
    cmd: chinook_train -n RunOrDriftBranch -tr training_states.csv -te testing_states.csv
      -t ../data/surface_temps.csv -e ../data/bathymetry.csv -m .
    deps:
    - path: ../../../mirrorverse/chinook/train.py
      hash: md5
      md5: f323336449e89604836a71d22313d5e1
      size: 2048
    - path: ../../../mirrorverse/chinook/tree/run_or_drift.py
      hash: md5
      md5: e3cbb32096b96ad0d67e2ac7047cf0bc
      size: 5177
    - path: ../../../mirrorverse/tree.py
      hash: md5
      md5: 067a49007795db73d41e408b873006bb
      size: 7903
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: testing_states.csv
      hash: md5
      md5: ffde03b47149ab94cb87c0f2c4292e53
      size: 135904
    - path: training_states.csv
      hash: md5
      md5: b3d369a99753b02554a7764b376a87e9
      size: 271883
    params:
      params.yaml:
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: RunOrDriftBranch.pkl
      hash: md5
      md5: fb63caee9fe449a78fe32a4c0e9292d7
      size: 187841
  bundle_models:
    cmd: mirrorverse_bundle_models -m .
    deps:
    - path: DriftMovementLeaf.pkl
      hash: md5
      md5: 264215292dbada19465721f65af6ea8a
      size: 491278
    - path: RunHeadingBranch.pkl
      hash: md5
      md5: f48ff6d8dc6887d3dcbc62dc411b382a
      size: 1300955
    - path: RunMovementLeaf.pkl
      hash: md5
      md5: ed78d931b28914a121b7ffa2d10a6d5c
      size: 537381
    - path: RunOrDriftBranch.pkl
      hash: md5
      md5: fb63caee9fe449a78fe32a4c0e9292d7
      size: 187841
    outs:
    - path: models.pkl
      hash: md5
      md5: 7faa80cc49780c5f9c06eb467df2cd0c
      size: 2517964
  data:
    cmd: chinook_db -e ../data/bathymetry.csv -s ../data/surface_temps.csv -t ../data/tag_tracks.csv
    deps:
    - path: ../../../mirrorverse/chinook/db.py
      hash: md5
      md5: 3f022788adc4a0032224af2034f13b9e
      size: 1968
    params:
      params.yaml:
        data: ../data/tag_tracks.csv
        elevation: ../data/bathymetry.csv
        temps: ../data/surface_temps.csv
    outs:
    - path: ../data/bathymetry.csv
      hash: md5
      md5: 009f0c0129454d53218b4358abba345c
      size: 522273
    - path: ../data/surface_temps.csv
      hash: md5
      md5: e6fd742a220be751db011ba75dc26227
      size: 3847027
    - path: ../data/tag_tracks.csv
      hash: md5
      md5: a2c11e27477300708f3feaf1be5a5543
      size: 325093
