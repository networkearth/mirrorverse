schema: '2.0'
stages:
  load_depth_data:
    cmd: mirrorverse_chinook_depth --function load_depth_data --output_file depth_data.csv.gz
    deps:
    - path: ../../../mirrorverse/models/chinook_depth/warehouse.py
      hash: md5
      md5: 68d8d228217bd9e391943c9f4bda112c
      size: 3496
    outs:
    - path: depth_data.csv.gz
      hash: md5
      md5: c78fdd7dacef5782f363e8b6ac216ca0
      size: 3768646
  add_depth_classes:
    cmd: mirrorverse_chinook_depth --function add_depth_classes --input_file depth_data.csv.gz
      --output_file depth_classes.csv.gz --depth_classes "[25, 50, 75, 100, 150, 200,
      250, 300, 400, 500]"
    deps:
    - path: ../../../mirrorverse/models/chinook_depth/warehouse.py
      hash: md5
      md5: 68d8d228217bd9e391943c9f4bda112c
      size: 3496
    - path: depth_data.csv.gz
      hash: md5
      md5: c78fdd7dacef5782f363e8b6ac216ca0
      size: 3768646
    params:
      params.yaml:
        depth_classes: '[25, 50, 75, 100, 150, 200, 250, 300, 400, 500]'
    outs:
    - path: depth_classes.csv.gz
      hash: md5
      md5: 071475bb55fe94d84a6f4ac6d120531e
      size: 4115879
  load_context_data:
    cmd: mirrorverse_chinook_depth --function load_context_data --output_file context_data.csv.gz
    deps:
    - path: ../../../mirrorverse/models/chinook_depth/warehouse.py
      hash: md5
      md5: 68d8d228217bd9e391943c9f4bda112c
      size: 3496
    outs:
    - path: context_data.csv.gz
      hash: md5
      md5: db529e746e8f013555212ad7d349eb01
      size: 90231
  join_in_context_data:
    cmd: mirrorverse_chinook_depth --function join_in_context_data --input_files "depth_classes.csv.gz,context_data.csv.gz"
      --output_file warehouse_data.csv.gz
    deps:
    - path: ../../../mirrorverse/models/chinook_depth/warehouse.py
      hash: md5
      md5: 68d8d228217bd9e391943c9f4bda112c
      size: 3496
    - path: context_data.csv.gz
      hash: md5
      md5: db529e746e8f013555212ad7d349eb01
      size: 90231
    - path: depth_classes.csv.gz
      hash: md5
      md5: 071475bb55fe94d84a6f4ac6d120531e
      size: 4115879
    outs:
    - path: warehouse_data.csv.gz
      hash: md5
      md5: 478fc835485ec5e3bc0b44ad5fc9b350
      size: 978994
  add_time_features:
    cmd: mirrorverse_chinook_depth --function add_time_features --input_file warehouse_data.csv.gz
      --output_file data_w_time_features.csv.gz
    deps:
    - path: ../../../mirrorverse/models/chinook_depth/time.py
      hash: md5
      md5: 15891ccb250b014562e99f0765e2cf48
      size: 1709
    - path: warehouse_data.csv.gz
      hash: md5
      md5: 478fc835485ec5e3bc0b44ad5fc9b350
      size: 978994
    outs:
    - path: data_w_time_features.csv.gz
      hash: md5
      md5: 0309af2a56d1c3f077b492f61e4845b0
      size: 1807595
